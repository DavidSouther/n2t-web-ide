"use strict";(self.webpackChunk_nand2tetris_web=self.webpackChunk_nand2tetris_web||[]).push([[839],{1539:function(e,n,t){t.d(n,{M:function(){return p}});var r=t(9422),i=t(1026),a=t(8061),o=t(9659),u=t(7536),s=t(6167),c=t(8016),l=t(1510),d=t(7878),f=function(e){var n,t,r=e.error;return null!==r&&void 0!==r&&r.failed()?(0,d.jsxs)("details",{className:"ErrorPanel",open:!0,children:[(0,d.jsx)("summary",{role:"button",className:"secondary",children:(0,d.jsx)(a.cC,{id:"Parse Error"})}),(0,d.jsx)("pre",{children:(0,d.jsx)("code",{children:null!==(n=null!==(t=null===r||void 0===r?void 0:r.message)&&void 0!==t?t:null===r||void 0===r?void 0:r.shortMessage)&&void 0!==n?n:l.eP})})]}):(0,d.jsx)(d.Fragment,{})},v=function(e){var n=e.value,t=e.onChange,r=e.language,a=e.disabled,o=void 0!==a&&a,u=(0,s.useState)(n),c=(0,i.Z)(u,2),l=c[0],f=c[1];return(0,d.jsx)("textarea",{"data-testid":"editor-".concat(r),disabled:o,value:l,onChange:function(e){var n,r=null===(n=e.target)||void 0===n?void 0:n.value;f(r),t(r)}})},h=function(e){var n=e.value,t=e.onChange,i=e.language,a=e.error,o=e.disabled,l=void 0!==o&&o,f=e.highlight,v=(0,s.useContext)(c.Il).theme,h=(0,u.Ik)(),p=(0,s.useRef)(),g=(0,s.useRef)([]),m=(0,s.useRef)(void 0),b=(0,s.useCallback)((function(){return("system"===v?window.matchMedia("(prefers-color-scheme: dark)").matches:"dark"===v)?"vs-dark":"vs"}),[v]),x=(0,s.useCallback)((function(){var e;g.current=function(e,n,t,r){if(!n||!t)return r;var i=n.getModel();if(!i)return r;var a=i.getPositionAt(t.start),o=i.getPositionAt(t.end),u=null===e||void 0===e?void 0:e.Range.fromPositions(a,o),s=[];return u&&(s.push({range:u,options:{inlineClassName:"highlight"}}),n.revealRangeInCenter(u)),n.deltaDecorations(r,s)}(h,p.current,null!==(e=m.current)&&void 0!==e?e:{start:0,end:0},g.current)}),[g,h,p,m]);(0,s.useEffect)((function(){m.current=f,x()}),[f]);var j=(0,s.useCallback)((function(e){var n;p.current=e,null===(n=p.current)||void 0===n||n.updateOptions({fontFamily:'"JetBrains Mono", source-code-pro, Menlo, Monaco,\n      Consolas, "Roboto Mono", "Ubuntu Monospace", "Noto Mono", "Oxygen Mono",\n      "Liberation Mono", monospace, "Apple Color Emoji", "Segoe UI Emoji",\n      "Segoe UI Symbol", "Noto Color Emoji"',fontSize:16,minimap:{enabled:!1},theme:b(),scrollBeyondLastLine:!1,readOnly:l}),x()}),[b]);return(0,s.useEffect)((function(){void 0!==p.current&&p.current.updateOptions({theme:b()})}),[p,b]),(0,s.useEffect)((function(){void 0!==p.current&&p.current.updateOptions({readOnly:l})}),[p,l]),(0,s.useEffect)((function(){var e,n,t,o,u;if(void 0!==p.current&&null!==h){var s=p.current.getModel();if(null!==s)if(void 0===a||a.succeeded())h.editor.setModelMarkers(s,i,[]);else{var c=null!==(e=null===(n=(0,r.Z)(/Line (\d+), col (\d+): (.*)/,{line:1,column:2,message:3}).exec(null!==(t=a.shortMessage)&&void 0!==t?t:""))||void 0===n?void 0:n.groups)&&void 0!==e?e:{line:1,column:1,message:"could not parse error"},l=c.line,d=c.column,f=c.message,v=Number(l),g=v,m=Number(d),b=m+(null!==(o=null===(u=s.getLineContent(v).substring(m-1).match(/([^\s]+)/))||void 0===u?void 0:u[0].length)&&void 0!==o?o:1);b<=m&&(b=m+1),h.editor.setModelMarkers(s,i,[{message:f,startColumn:m,startLineNumber:v,endColumn:b,endLineNumber:g,severity:8}])}}}),[a,p,h,i]),(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(u.ZP,{value:n,onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t(e)},language:i,onMount:j})})},p=function(e){var n=e.className,t=void 0===n?"":n,r=e.style,a=void 0===r?{}:r,u=e.disabled,l=void 0!==u&&u,p=e.value,g=e.onChange,m=e.grammar,b=e.language,x=e.highlight,j=(0,s.useState)(),y=(0,i.Z)(j,2),k=y[0],C=y[1],Z=(0,s.useContext)(c.Il).monaco,w=(0,s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=m.match(e);C(n.failed()?n:void 0)}),[C,m]);(0,s.useEffect)((function(){return w(p)}),[w,p]);var N=(0,s.useMemo)((function(){return(0,o.D)(w,500)}),[w]),M=(0,s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";g(e),N(e)}),[N,g]);return(0,d.jsx)("div",{className:"Editor ".concat(t),style:a,children:Z.canUse&&Z.wants?(0,d.jsx)(h,{value:p,onChange:M,language:b,error:k,disabled:l,highlight:x}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(v,{value:p,onChange:M,language:b,disabled:l}),(0,d.jsx)(f,{error:k})]})})}},1124:function(e,n,t){t.d(n,{G:function(){return a},s:function(){return i}});var r=t(7878),i=function(e){var n;return(0,r.jsxs)("article",{className:["panel",null!==(n=e.className)&&void 0!==n?n:""].join(" "),children:[e.header&&(0,r.jsx)("header",{children:e.header}),(0,r.jsx)("main",{children:e.children}),e.footer&&(0,r.jsx)("footer",{children:e.footer})]})},a=function(e){var n;return(0,r.jsxs)("details",{className:null!==(n=e.className)&&void 0!==n?n:"",open:e.open,style:e.style,children:[(0,r.jsx)("summary",{children:(0,r.jsx)("div",{className:"flex row align-baseline",children:e.summary})}),e.children]})}},2277:function(e,n,t){t.d(n,{N:function(){return s}});var r=t(1026),i=t(7878),a=t(6167),o=t(6830),u={Enter:128,Backspace:129,ArrowLeft:130,ArrowUp:131,ArrowRight:132,ArrowDown:133,Home:134,End:135,PageUp:136,PageDown:137,Insert:138,Delete:139,Escape:140,F1:141,F2:142,F3:143,F4:144,F5:145,F6:146,F7:147,F8:148,F9:149,F10:150,F11:151,F12:152};var s=function(e){var n=e.keyboard,t=e.update,s=(0,a.useState)(!1),c=(0,r.Z)(s,2),l=c[0],d=c[1],f=(0,a.useState)(n.getKey()),v=(0,r.Z)(f,2),h=v[0],p=v[1],g=0,m=function(e){0!==e&&(n.setKey(e),p(n.getKey()),g=e)};return(0,i.jsxs)("div",{className:"flex row align-baseline",children:[(0,i.jsx)("div",{className:"flex-1",children:(0,i.jsx)(o.y,{name:"Keyboard",bits:h})}),(0,i.jsx)("div",{className:l?"flex-1":"flex-0",children:l?(0,i.jsx)("input",{ref:function(e){return null===e||void 0===e?void 0:e.focus()},type:"text",onKeyDown:function(e){e.preventDefault();var n=function(e){var n=u[e.key];if(void 0!==n)return n;if(1===e.key.length){var t=e.key.charCodeAt(0);if(t>=32&&t<=126)return t}return 0}(e);n!==g&&(m(n),null===t||void 0===t||t())},onKeyUp:function(e){g=0,n.clearKey(),null===t||void 0===t||t(),p(n.getKey())}}):(0,i.jsxs)("fieldset",{role:"group",children:[(0,i.jsx)("button",{onClick:function(){d(!0)},children:"\u2328\ufe0f"}),(0,i.jsx)("button",{onClick:function(){m(0)},children:"\ud83c\udd91"})]})})]})}},6830:function(e,n,t){t.d(n,{y:function(){return a}});var r=t(7878),i=t(326),a=function(e){var n=e.name,t=e.bits;return(0,r.jsxs)("div",{children:[n,": ",(0,i.E_)(t)]})}},9613:function(e,n,t){t.d(n,{l:function(){return c}});var r=t(7878),i=t(5541),a=t(6167),o=t(7030),u="white";function s(e,n,t,r){var i=4*(512*t+n),a=r===u?255:0;e[i]=a,e[i+1]=a,e[i+2]=a,e[i+3]=255}var c=function(e){var n=e.memory,t=(0,a.useRef)(),c=(0,a.useCallback)((function(){var e,r,a=null!==(e=null===(r=t.current)||void 0===r?void 0:r.getContext("2d"))&&void 0!==e?e:void 0;a&&function(e,n){for(var t,r,a=(0,i.kP)(e.getImageData(0,0,512,256),"Failed to create Context2d"),o=0;o<512;o++)for(var c=0;c<256;c++){var l=(t=o,r=c,0===(n.get(32*r+(t/16|0))&1<<t%16)?u:"black");s(a.data,o,c,l)}e.putImageData(a,0,0)}(a,n)}),[n]),l=(0,a.useCallback)((function(e){t.current=null!==e&&void 0!==e?e:void 0,c()}),[t,c]);return(0,o.RC)(c),(0,o._W)((function(){var e,n;null===(e=t.current)||void 0===e||null===(n=e.getContext("2d"))||void 0===n||n.clearRect(0,0,t.current.width,t.current.height)})),(0,r.jsxs)("article",{className:"panel",children:[(0,r.jsx)("header",{children:"Screen"}),(0,r.jsx)("main",{style:{backgroundColor:"var(--code-background-color)"},children:(0,r.jsx)("figure",{style:{width:"100%",maxWidth:"512px",boxSizing:"content-box",marginInline:"auto",margin:"auto",borderTop:"2px solid gray",borderLeft:"2px solid gray",borderBottom:"2px solid lightgray",borderRight:"2px solid lightgray"},children:(0,r.jsx)("canvas",{ref:l,width:512,height:256})})})]})}},7030:function(e,n,t){t.d(n,{RC:function(){return s},_W:function(){return c},uY:function(){return d}});var r=t(1026),i=t(7878),a=t(6167),o=t(4408),u=t(6531);function s(e){(0,a.useEffect)((function(){var n=u.S.get().frame$.subscribe((function(){e()}));return function(){return n.unsubscribe()}}),[e])}function c(e){(0,a.useEffect)((function(){var n=u.S.get().reset$.subscribe((function(){e()}));return function(){return n.unsubscribe()}}),[e])}function l(){return(0,o.j)(u.S.get())}var d=function(){var e=function(){var e=(0,a.useState)(l()),n=(0,r.Z)(e,2),t=n[0],i=n[1];return(0,a.useEffect)((function(){var e=u.S.get().$.subscribe((function(){i(l())}));return function(){return e.unsubscribe()}}),[]),t}();return(0,i.jsx)("span",{style:{whiteSpace:"nowrap"},children:e})}},7559:function(e,n,t){t.d(n,{C:function(){return o},i:function(){return u}});var r=t(1026),i=t(1408),a=t(6167);function o(e,n){return(0,a.useReducer)((function(n,t){return(0,i.ZP)(n,(function(n){e[t.action](n,t.payload)}))}),n)}function u(e){var n=(0,a.useState)(e),t=(0,r.Z)(n,2),i=t[0],o=t[1];return(0,a.useEffect)((function(){o(e)}),[e]),[i,o]}},258:function(e,n,t){t.d(n,{D:function(){return s}});var r=t(649),i=t(1026),a=t(7878),o=t(7559),u=t(6167);var s=function(e){var n=function(e){var n=(0,u.useRef)((function(){})),t=(0,u.useMemo)((function(){return function(e,n){var t={running:e.running,speed:e.speed,steps:e.steps},r=e.finishFrame.bind(e);return e.finishFrame=function(){r(),n.current({action:"update"})},{initialState:t,reducers:{update:function(n){n.running=e.running,n.speed=e.speed,n.steps=e.steps},setSteps:function(n,t){n.steps=t,e.steps=t},setSpeed:function(n,t){n.speed=t,e.speed=t}},actions:{frame:function(){e.frame()},start:function(){e.start(),n.current({action:"update"})},stop:function(){e.stop(),n.current({action:"update"})},reset:function(){e.reset(),n.current({action:"update"})}}}}(e,n)}),[e,n]),r=t.initialState,a=t.reducers,s=t.actions,c=(0,o.C)(a,r),l=(0,i.Z)(c,2),d=l[0],f=l[1];return n.current=f,{state:d,dispatch:n.current,actions:s}}(e.runner);return(0,a.jsxs)("fieldset",{role:"group",children:[(0,a.jsx)("button",{className:"flex-0",onClick:function(){return n.actions.frame()},"data-tooltip":"Step","data-placement":"bottom",children:"\u27a1\ufe0f"}),(0,a.jsx)("button",{className:"flex-0",onClick:function(){return n.state.running?n.actions.stop():n.actions.start()},"data-tooltip":n.state.running?"Pause":"Play","data-placement":"bottom",children:n.state.running?"\u23f8":"\ufe0f\u23e9"}),(0,a.jsx)("button",{className:"flex-0",onClick:function(){return n.actions.reset()},"data-tooltip":"Reset","data-placement":"bottom",children:"\u23ee"}),(0,a.jsx)("select",{className:"flex-1",name:"speed",value:n.state.speed,onChange:function(e){var t,r;n.dispatch({action:"setSpeed",payload:Number(null!==(t=null===(r=e.target)||void 0===r?void 0:r.value)&&void 0!==t?t:n.state.speed)})},disabled:n.state.running,children:[[1e3,"Slow"],[500,"Fast"],[16,"Faster"]].map((function(e){var n=(0,i.Z)(e,2),t=n[0],r=n[1];return(0,a.jsx)("option",{value:t,children:r},t)}))}),(0,a.jsx)("select",{className:"flex-1",name:"steps",value:n.state.steps,onChange:function(e){var t,r;n.dispatch({action:"setSteps",payload:Number(null!==(t=null===(r=e.target)||void 0===r?void 0:r.value)&&void 0!==t?t:n.state.steps)})},disabled:n.state.running,children:[[1,"1 Step"],[500,"500"],[1e3,"1000"],[2e3,"2000"],[8e3,"8000"]].concat((0,r.Z)(16===n.state.speed?[[16666,"1MHz"],[499980,"30MHz"]]:[])).map((function(e){var n=(0,i.Z)(e,2),t=n[0],r=n[1];return(0,a.jsx)("option",{value:t,children:r},t)}))}),e.children]})}},8923:function(e,n,t){t.d(n,{B:function(){return g}});var r=t(1092),i=t(7791),a=t(2951),o=t(1976),u=t(7538),s=t(4649),c=t(2648),l=t(3943),d=t(6531).S.get(),f=new WeakMap,v=new WeakMap,h=new WeakMap,p=new WeakMap,g=function(){function e(){var n=this;(0,a.Z)(this,e),(0,s.Z)(this,"steps",1),(0,s.Z)(this,"speed",1e3),(0,u.Z)(this,f,{writable:!0,value:!1}),(0,u.Z)(this,v,{writable:!0,value:0}),(0,u.Z)(this,h,{writable:!0,value:0}),(0,u.Z)(this,p,{writable:!0,value:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,i,a,o,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,l.Z)(n,f)){e.next=2;break}return e.abrupt("return");case 2:if(t=Date.now(),i=t-(0,l.Z)(n,h),(0,c.Z)(n,h,t),(0,c.Z)(n,v,(0,l.Z)(n,v)+i),(0,l.Z)(n,v)>n.speed){for(a=!1,o=n.steps,u="Timing ".concat(o," steps"),console.time(u);!a&&o--;)a=n.tick();console.timeEnd(u),n.finishFrame(),a&&n.stop(),(0,c.Z)(n,v,(0,l.Z)(n,v)-n.speed)}requestAnimationFrame((0,l.Z)(n,p));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})}return(0,o.Z)(e,[{key:"frame",value:function(){this.tick(),this.finishFrame()}},{key:"finishFrame",value:function(){d.frame()}},{key:"running",get:function(){return(0,l.Z)(this,f)}},{key:"start",value:function(){(0,c.Z)(this,f,!0),(0,c.Z)(this,h,Date.now()-this.speed),(0,l.Z)(this,p).call(this),this.toggle()}},{key:"stop",value:function(){(0,c.Z)(this,f,!1),this.toggle()}}]),e}()}}]);
//# sourceMappingURL=839.057a256d.chunk.js.map